---
apiVersion: score.dev/v1b1

metadata:
  name: backend

containers:
  backend:
    image: ubuntu:latest
    command: ["/bin/bash"]
    args: ["-c", "while true; do printenv; sleep 120; done"]
    variables:
      ZZZ_BUCKET_NAME: ${externals.myterraformapp-s3-resource.bucket}
      ZZZ_PGDB_NAME: ${externals.myterraformapp-postgres-resource.name}
      ZZZ_MARIABD_NAME: ${externals.myterraformapp-mariadb-resource.name}

resources:
  "myterraformapp-postgres-resource":
    type: postgres
  "myterraformapp-s3-resource":
    type: s3
  "myterraformapp-mariadb-resource":
    type: mariadb
